<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - PulseLove</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://sdk.mercadopago.com/js/v2"></script>
    <link rel="stylesheet" href="checkout.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="logopulselove.png" alt="PulseLove">
                    <h1>PulseLove</h1>
                </div>
                <a href="pricing.html" class="btn btn-outline">‚Üê Voltar para Planos</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="checkout-grid">
                <!-- Order Summary -->
                <div class="order-summary">
                    <h2 class="section-title">üìã Resumo do Pedido</h2>
                    
                    <div class="plan-selected">
                        <div class="plan-name" id="planName">Plano Mensal</div>
                        <div class="plan-price" id="planPrice">R$ 24,90</div>
                        <div class="plan-period" id="planPeriod">por m√™s</div>
                    </div>

                    <h3 class="benefits-title">üéÅ Benef√≠cios Inclu√≠dos:</h3>
                    <ul class="benefits-list">
                        <li>üí¨ Mensagens ilimitadas</li>
                        <li>üïí Hist√≥rico permanente</li>
                        <li>üì∏ Galeria com 10MB</li>
                        <li>‚≠ê Prioridade na lista VIP</li>
                        <li>üëÄ Ver quem te visitou</li>
                        <li>üö´ Bloquear mensagens</li>
                        <li>üõ°Ô∏è Suporte priorit√°rio</li>
                    </ul>

                    <div class="security-note">
                        üîí Pagamento 100% seguro via Mercado Pago
                    </div>
                </div>

                <!-- Payment Methods -->
                <div class="payment-methods">
                    <h2 class="section-title">üí≥ Pagamento</h2>
                    
                    <div class="payment-options">
                        <div class="payment-option selected" onclick="selectPayment('pix')">
                            <div class="payment-icon">üí∞</div>
                            <div class="payment-info">
                                <div class="payment-title">PIX</div>
                                <div class="payment-desc">Pagamento instant√¢neo ‚Ä¢ Aprova√ß√£o imediata</div>
                            </div>
                        </div>

                        <div class="payment-option" onclick="selectPayment('card')">
                            <div class="payment-icon">üí≥</div>
                            <div class="payment-info">
                                <div class="payment-title">Cart√£o de Cr√©dito</div>
                                <div class="payment-desc">At√© 12x sem juros ‚Ä¢ D√©bito tamb√©m</div>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" id="continueButton" onclick="showPaymentSimulation()">
                        ‚ñ∂Ô∏è Continuar para Pagamento
                    </button>

                    <!-- PIX Simulation -->
                    <div class="payment-simulation" id="pixSimulation">
                        <div class="pix-container">
                            <h3 class="simulation-title">üí∞ Pagamento PIX</h3>
                            <p class="simulation-desc">Escaneie o QR Code ou copie o c√≥digo PIX</p>
                            
                            <div class="pix-qr-code">
                                <div class="qr-placeholder">üì±</div>
                                <div class="qr-text">QR CODE SIMULADO</div>
                                <div class="qr-subtext">Abra seu app de banco e escaneie</div>
                            </div>

                            <div class="pix-code" id="pixCode">
                                00020126580014br.gov.bcb.pix0136123e4567-e89b-12d3-a456-426614174000520400005303986540624.905802BR5910PULSELOVE6008BRASILIA62070503***6304A1A2
                            </div>
                            
                            <button class="copy-btn" onclick="copyPixCode()">
                                üìã Copiar C√≥digo PIX
                            </button>

                            <div class="timer" id="pixTimer">
                                ‚è≥ Tempo restante: 29:59
                            </div>

                            <button class="btn btn-primary" onclick="simulatePixPayment()">
                                ‚úÖ Simular Pagamento Conclu√≠do
                            </button>

                            <div class="test-info">
                                üí° <strong>Para teste:</strong> Clique no bot√£o acima para simular pagamento PIX conclu√≠do
                            </div>
                        </div>
                    </div>

                    <!-- Card Simulation -->
                    <div class="payment-simulation" id="cardSimulation">
                        <div class="card-container">
                            <h3 class="simulation-title">üí≥ Pagamento com Cart√£o</h3>
                            
                            <div class="card-form">
                                <div class="form-group">
                                    <label>N√∫mero do Cart√£o</label>
                                    <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                                </div>

                                <div class="card-row">
                                    <div class="form-group">
                                        <label>Validade</label>
                                        <input type="text" class="form-control" id="cardExpiry" placeholder="MM/AA" maxlength="5">
                                    </div>
                                    <div class="form-group">
                                        <label>CVV</label>
                                        <input type="text" class="form-control" id="cardCvv" placeholder="123" maxlength="3">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>Nome no Cart√£o</label>
                                    <input type="text" class="form-control" id="cardName" placeholder="SEU NOME AQUI">
                                </div>

                                <div class="form-group">
                                    <label>CPF do Titular</label>
                                    <input type="text" class="form-control" id="cardCpf" placeholder="123.456.789-00">
                                </div>
                            </div>

                            <div class="test-cards">
                                <strong>üí≥ Cart√µes para Teste (Mercado Pago Sandbox):</strong>
                                ‚Ä¢ <strong>Cart√£o Aprovado:</strong> 5031 4332 1540 6351<br>
                                ‚Ä¢ <strong>CVV:</strong> 123 | <strong>Validade:</strong> 11/25<br>
                                ‚Ä¢ <strong>Nome:</strong> Qualquer | <strong>CPF:</strong> Qualquer
                            </div>

                            <button class="btn btn-primary" onclick="processCardPayment()">
                                üí≥ Finalizar Pagamento
                            </button>
                        </div>
                    </div>

                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                        <p>Processando seu pagamento...</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>PulseLove</h3>
                    <p>Uma plataforma segura e discreta para conectar cora√ß√µes e construir relacionamentos genu√≠nos.</p>
                </div>
                <div class="footer-column">
                    <h3>Links R√°pidos</h3>
                    <ul>
                        <li><a href="home.html">üè† Home</a></li>
                        <li><a href="pricing.html">üí∞ Planos</a></li>
                        <li><a href="mensagens.html">üí¨ Mensagens</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Suporte</h3>
                    <ul>
                        <li><a href="#">‚ùì Central de Ajuda</a></li>
                        <li><a href="#">üîí Pol√≠tica de Privacidade</a></li>
                        <li><a href="#">üìù Termos de Uso</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 PulseLove. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="checkout.js"></script>
</body>
</html>