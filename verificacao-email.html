<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificar E-mail - Amor Conect</title>
    <link rel="stylesheet" href="globals.css">
    <link rel="stylesheet" href="components.css">
</head>
<body>
    <div class="auth-container">
        <div style="text-align: center; font-size: 4rem;">ðŸ“§</div>
        <h1 style="text-align: center;">Verifique seu E-mail</h1>
        
        <div id="emailInfo">
            <p>Enviamos um link de confirmaÃ§Ã£o para:</p>
            <div style="background: var(--bege); padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                <strong id="userEmail">carregando...</strong>
            </div>
            <p>Clique no link do e-mail para ativar sua conta.</p>
        </div>

        <div style="margin-top: 2rem; text-align: center;">
            <p>NÃ£o recebeu? <button onclick="resendEmail()" class="btn btn-outline">Reenviar E-mail</button></p>
            <a href="cadastro.html" class="btn btn-secondary">Voltar ao Cadastro</a>
        </div>
    </div>

    <script src="globals.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const email = urlParams.get('email');
            if (email) {
                document.getElementById('userEmail').textContent = email;
            }
        });

        async function resendEmail() {
            const urlParams = new URLSearchParams(window.location.search);
            const email = urlParams.get('email');
            
            if (email) {
                const { error } = await supabase.auth.resend({
                    type: 'signup',
                    email: email,
                    options: {
                        emailRedirectTo: `${window.location.origin}/verificacao-email.html`
                    }
                });
                
                if (!error) {
                    alert('âœ… E-mail reenviado! Verifique sua caixa de entrada.');
                }
            }
        }
    </script>
</body>
</html>